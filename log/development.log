  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2024-10-21 09:25:08.601164', '2024-10-21 09:25:08.601172') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20241021092203)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241021092203') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTeams (20241021092205)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "teams" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241021092205') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateStocks (20241021092207)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "stocks" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241021092207') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateWallets (20241021092209)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "wallets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "balance" decimal DEFAULT 0.0 NOT NULL, "walletable_type" varchar NOT NULL, "walletable_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_wallets_on_walletable" ON "wallets" ("walletable_type", "walletable_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241021092209') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTransactions (20241021092212)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "amount" decimal NOT NULL, "transaction_type" integer NOT NULL, "source_wallet_id" integer, "target_wallet_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_c43e57190f"
FOREIGN KEY ("source_wallet_id")
  REFERENCES "wallets" ("id")
, CONSTRAINT "fk_rails_0226e8eeea"
FOREIGN KEY ("target_wallet_id")
  REFERENCES "wallets" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_source_wallet_id" ON "transactions" ("source_wallet_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_target_wallet_id" ON "transactions" ("target_wallet_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20241021092212') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users" for ::1 at 2024-10-21 16:46:24 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant UsersController):

Causes:
ActionDispatch::MissingController (uninitialized constant UsersController)
NameError (uninitialized constant UsersController)
  
Started POST "/users" for ::1 at 2024-10-21 16:50:39 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"name"=>"Fajar Dwi Rianto", "user"=>{"name"=>"Fajar Dwi Rianto"}}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.5ms (0 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/users_controller.rb:3:in `create'
Started POST "/users" for ::1 at 2024-10-21 16:50:41 +0700
Processing by UsersController#create as */*
  Parameters: {"name"=>"Fajar Dwi Rianto", "user"=>{"name"=>"Fajar Dwi Rianto"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/users_controller.rb:3:in `create'
Started POST "/users" for ::1 at 2024-10-21 16:50:42 +0700
Processing by UsersController#create as */*
  Parameters: {"name"=>"Fajar Dwi Rianto", "user"=>{"name"=>"Fajar Dwi Rianto"}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/users_controller.rb:3:in `create'
Started POST "/users" for ::1 at 2024-10-21 16:51:05 +0700
Processing by UsersController#create as */*
  Parameters: {"user"=>{"name"=>"John Doe"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
NoMethodError (undefined method `new' for nil:NilClass):
  
app/controllers/users_controller.rb:3:in `create'
Started POST "/users" for ::1 at 2024-10-21 16:53:36 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"user"=>{"name"=>"Fajar Dwi Rianto"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/users_controller.rb:5:in `create'
  [1m[36mUser Create (5.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["name", "Fajar Dwi Rianto"], ["created_at", "2024-10-21 09:53:36.714636"], ["updated_at", "2024-10-21 09:53:36.714636"]]
  â†³ app/controllers/users_controller.rb:5:in `create'
  [1m[36mWallet Create (0.4ms)[0m  [1m[32mINSERT INTO "wallets" ("balance", "walletable_type", "walletable_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["balance", 0.0], ["walletable_type", "User"], ["walletable_id", 1], ["created_at", "2024-10-21 09:53:36.804604"], ["updated_at", "2024-10-21 09:53:36.804604"]]
  â†³ app/models/user.rb:9:in `create_wallet'
  [1m[36mWallet Load (0.2ms)[0m  [1m[34mSELECT "wallets".* FROM "wallets" WHERE "wallets"."walletable_id" = ? AND "wallets"."walletable_type" = ? LIMIT ?[0m  [["walletable_id", 1], ["walletable_type", "User"], ["LIMIT", 1]]
  â†³ app/models/user.rb:9:in `create_wallet'
  [1m[36mTRANSACTION (7.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/users_controller.rb:5:in `create'
Completed 201 Created in 131ms (Views: 0.7ms | ActiveRecord: 15.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/teams" for ::1 at 2024-10-21 16:55:44 +0700
  
ActionController::RoutingError (uninitialized constant TeamsController):

Causes:
ActionDispatch::MissingController (uninitialized constant TeamsController)
NameError (uninitialized constant TeamsController)
  
Started POST "/teams" for ::1 at 2024-10-21 17:00:40 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TeamsController#create as */*
  Parameters: {"team"=>{"name"=>"Development Team"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/teams_controller.rb:5:in `create'
  [1m[36mTeam Create (2.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["name", "Development Team"], ["created_at", "2024-10-21 10:00:40.487296"], ["updated_at", "2024-10-21 10:00:40.487296"]]
  â†³ app/controllers/teams_controller.rb:5:in `create'
  [1m[36mWallet Create (0.5ms)[0m  [1m[32mINSERT INTO "wallets" ("balance", "walletable_type", "walletable_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["balance", 0.0], ["walletable_type", "Team"], ["walletable_id", 1], ["created_at", "2024-10-21 10:00:40.529646"], ["updated_at", "2024-10-21 10:00:40.529646"]]
  â†³ app/models/team.rb:9:in `create_wallet'
  [1m[36mWallet Load (0.2ms)[0m  [1m[34mSELECT "wallets".* FROM "wallets" WHERE "wallets"."walletable_id" = ? AND "wallets"."walletable_type" = ? LIMIT ?[0m  [["walletable_id", 1], ["walletable_type", "Team"], ["LIMIT", 1]]
  â†³ app/models/team.rb:9:in `create_wallet'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/teams_controller.rb:5:in `create'
Completed 201 Created in 72ms (Views: 0.6ms | ActiveRecord: 10.3ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/stocks" for ::1 at 2024-10-21 17:01:23 +0700
Processing by StocksController#create as */*
  Parameters: {"stock"=>{"name"=>"Microsoft"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/stocks_controller.rb:5:in `create'
  [1m[36mStock Create (1.8ms)[0m  [1m[32mINSERT INTO "stocks" ("name", "created_at", "updated_at") VALUES (?, ?, ?) RETURNING "id"[0m  [["name", "Microsoft"], ["created_at", "2024-10-21 10:01:23.580646"], ["updated_at", "2024-10-21 10:01:23.580646"]]
  â†³ app/controllers/stocks_controller.rb:5:in `create'
  [1m[36mWallet Create (0.3ms)[0m  [1m[32mINSERT INTO "wallets" ("balance", "walletable_type", "walletable_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["balance", 0.0], ["walletable_type", "Stock"], ["walletable_id", 1], ["created_at", "2024-10-21 10:01:23.586014"], ["updated_at", "2024-10-21 10:01:23.586014"]]
  â†³ app/models/stock.rb:9:in `create_wallet'
  [1m[36mWallet Load (0.1ms)[0m  [1m[34mSELECT "wallets".* FROM "wallets" WHERE "wallets"."walletable_id" = ? AND "wallets"."walletable_type" = ? LIMIT ?[0m  [["walletable_id", 1], ["walletable_type", "Stock"], ["LIMIT", 1]]
  â†³ app/models/stock.rb:9:in `create_wallet'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/stocks_controller.rb:5:in `create'
Completed 201 Created in 20ms (Views: 0.4ms | ActiveRecord: 4.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started POST "/transactions" for ::1 at 2024-10-21 17:02:07 +0700
DEPRECATION WARNING: Defining enums with keyword arguments is deprecated and will be removed
in Rails 8.0. Positional arguments should be used instead:

enum :transaction_type, {:credit=>0, :debit=>1}
 (called from <class:Transaction> at /home/fajarpostman/SystemWallet/app/models/transaction.rb:5)
Processing by TransactionsController#create as */*
  Parameters: {"transaction"=>{"amount"=>100.0, "transaction_type"=>"credit", "target_wallet_id"=>1}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/transactions_controller.rb:5:in `create'
  [1m[36mTransaction Create (1.8ms)[0m  [1m[32mINSERT INTO "transactions" ("amount", "transaction_type", "source_wallet_id", "target_wallet_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["amount", 100.0], ["transaction_type", 0], ["source_wallet_id", nil], ["target_wallet_id", 1], ["created_at", "2024-10-21 10:02:07.379026"], ["updated_at", "2024-10-21 10:02:07.379026"]]
  â†³ app/controllers/transactions_controller.rb:5:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/transactions_controller.rb:5:in `create'
  [1m[36mWallet Load (0.2ms)[0m  [1m[34mSELECT "wallets".* FROM "wallets" WHERE "wallets"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/transactions_controller.rb:7:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/wallet.rb:10:in `update_balance'
  [1m[36mWallet Update (2.7ms)[0m  [1m[33mUPDATE "wallets" SET "balance" = ?, "updated_at" = ? WHERE "wallets"."id" = ?[0m  [["balance", 100.0], ["updated_at", "2024-10-21 10:02:07.389850"], ["id", 1]]
  â†³ app/models/wallet.rb:10:in `update_balance'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/wallet.rb:10:in `update_balance'
  [1m[36mTransaction Sum (0.2ms)[0m  [1m[34mSELECT SUM("transactions"."amount") FROM "transactions" WHERE "transactions"."target_wallet_id" = ?[0m  [["target_wallet_id", 1]]
  â†³ app/models/wallet.rb:14:in `calculate_balance'
  [1m[36mTransaction Sum (0.2ms)[0m  [1m[34mSELECT SUM("transactions"."amount") FROM "transactions" WHERE "transactions"."source_wallet_id" = ?[0m  [["source_wallet_id", 1]]
  â†³ app/models/wallet.rb:15:in `calculate_balance'
Completed 201 Created in 44ms (Views: 0.3ms | ActiveRecord: 6.5ms (5 queries, 0 cached) | GC: 0.0ms)


Started POST "/prices" for ::1 at 2024-10-21 23:09:43 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/prices"):
  
